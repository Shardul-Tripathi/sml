\begin{figure}
\begin{lstlisting}[language=C]
//fin is an input filestream
if(role == SERVER) {
  for(uint32_t i = 0; i < 30; i++) {
    fin >> w[i];
    a_w[i] = acirc->PutINGate(w[i], bitlen, SERVER);
  }
  fin >> b;
  a_b[i] = acirc->PutINGate(b[i], bitlen, SERVER); 
  ...
  }
} else { //role == CLIENT
...
}
for(uint32_t i = 0; i < 30; i++) {
  share * a_t_0 = acirc->PutMULGate(a_w[i], a_x[i]);
  a_acc = acirc-> PutADDGate(a_acc, a_t_0 );
}

share *y_acc = ycirc->PutA2YGate(a_acc);
share *y_pred = ycirc->PutGTGate (y_acc, y_b);
uint32_t one = 1 ;
share *y_1 = ycirc->PutCONSGate(one, bitlen);
uint32_t zero = 0 ;
share *y_0 = ycirc->PutCONSGate(zero, bitlen);
share *y_t = ycirc->PutMUXGate(y_pred, y_1, y_0);
share *y_out = ycirc->PutOUTGate(y_t, CLIENT);
party->ExecCircuit();
if(role==CLIENT) {
  uint32_t _o = y_out->get_clear_value<uint32_t>();
}
\end{lstlisting}
\caption{Partial ABY code for \ls{w}$^{\text{\ls{T}}}$\ls{x > b}}
\label{fig:ex-aby}
\end{figure}
